<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/styles/playlist-details.css">
</head>
<body>
  <%- include('../partials/navbar') %>

  <div class="playlist-container">
    <div class="playlist-header">
      <% if (foundPlaylist.coverImagePath) { %>
        <img src="<%= foundPlaylist.coverImagePath %>" alt="Playlist Cover" class="playlist-cover">
      <% } else { %>
        <img src="/images/default-cover.png" alt="Default Cover" class="playlist-cover">
      <% } %>

      <div class="playlist-info">
        <h1><%= foundPlaylist.name %></h1>
        <p><%= foundPlaylist.songIds.length %> song(s)</p>
      </div>
    </div>

    <div class="playlist-songs">
      <h3>Tracks</h3>
      <ul>
        <% foundPlaylist.songIds.forEach(song => { %>
  <li>
    <a href="/songs/<%= song._id %>" class="song-link">
      <span class="song-title"><%= song.title %></span>
      <span class="song-artist">â€” <%= song.artist %></span>
    </a>
  </li>
<% }) %>
      </ul>
    </div>

    <div class="playlist-buttons">
      <a href="/playlists/<%= foundPlaylist._id %>/edit" class="btn edit-btn">Edit Playlist</a>

      <form action="/playlists/<%= foundPlaylist._id %>?_method=DELETE" method="POST" style="display:inline;">
        <button type="submit" class="btn delete-btn">Delete Playlist</button>
      </form>

      <a href="/playlists" class="btn back-btn">Back to all playlists</a>
    </div>
  </div>
</body>

</html>