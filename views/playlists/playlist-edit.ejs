<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="/styles/edit-playlist.css">
</head>
<body>
    <%- include('../partials/navbar') %>
    <h1>Edit Playlist</h1>

<form action="/playlists/<%= foundPlaylist._id %>?_method=PUT" method="POST">
  <label for="name">Playlist Name:</label>
  <input type="text" name="name" value="<%= foundPlaylist.name %>" required />

  <h3>Select Songs:</h3>
  <% allSongs.forEach(song => { %>
    <div class="song-checkbox">
      <label>
        <input 
          type="checkbox" 
          name="songIds" 
          value="<%= song._id %>" 
          <%= foundPlaylist.songIds.includes(song._id.toString()) ? 'checked' : '' %>
        />
        <%= song.title %> by <%= song.artist %>
      </label>
    </div>
  <% }) %>

  <button type="submit">Update Playlist</button>
</form>

<form action="/playlists/<%= foundPlaylist._id %>" method="GET" style="margin-top: 20px;">
  <button type="submit" class="cancel-btn">‚Üê Cancel</button>
</form>

</body>
</html>